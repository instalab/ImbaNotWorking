var self = {};
// Provides Promise-based functions around FileReader

exports.readTextFile = self.readTextFile = function (file){
	return new Promise(function(resolve,reject) {
		var reader = new FileReader();
		reader.onload = function(e) {
			return resolve(e.target.result);
		};
		return reader.readAsText(file);
	});
};

exports.readArrayBuffer = self.readArrayBuffer = function (file){
	return new Promise(function(resolve,reject) {
		var reader = new FileReader();
		reader.onload = function(e) {
			return resolve(e.target.result);
		};
		return reader.readAsArrayBuffer(file);
	});
};

exports.readFileSystemEntry = self.readFileSystemEntry = function (entry){
	return new Promise(function(resolve,reject) {
		return entry.file(resolve,reject);
	});
};
