var Imba = require('imba'), _1 = Imba.createElement;
var uxa$ = require('uxa'), Menu = uxa$.Menu, MenuItem = uxa$.MenuItem;

var UserMenu = Imba.defineTag('UserMenu', Menu, function(tag){
	
	tag.prototype.render = function (){
		var $ = this.$;
		return this.$open(0).flag('inset').setChildren($.$ = $.$ || [
			_1(MenuItem,$,0,this).setIcon('>').setLabel('View profile'),
			_1('hr',$,1,this).flag('sm'),
			// <hr.sm>
			// <MenuItem icon='w' label='Your casts' href="/{data:username}?tab=casts">
			// <MenuItem icon='w' label='Your playgrounds' href="/{data:username}?tab=playgrounds">
			// <MenuItem icon='w' label='Your playlists' href="/{data:username}?tab=playlists">
			// <hr.sm>
			// <MenuItem icon='>' label='New playground' action=['addspace','lab']>
			// <MenuItem icon='>' label='New screencast' action=['addspace','tutorial']>
			_1(MenuItem,$,2,this).setIcon('>').setLabel('New workspace').setAction('addcast'),
			_1(MenuItem,$,3,this).setIcon('>').setLabel('New playlist').setAction('addplaylist'),
			_1('hr',$,4,this).flag('sm'),
			_1(MenuItem,$,5,this).setIcon('>').setLabel('Sign out').setAction('signout')
		],2).synced((
			$[0].setHref(("" + (this.data().url()))).end(),
			$[2].end(),
			$[3].end(),
			$[5].end()
		,true));
	};
})
exports.UserMenu = UserMenu;
