var Imba = require('imba'), _1 = Imba.createElement;
var Dialog = require('uxa').Dialog;
var LongPromise = require('../../util/LongPromise').LongPromise;

var util = require('../util');

var RecDoneDialog = Imba.defineTag('RecDoneDialog', Dialog, function(tag){
	
	tag.prototype.body = function (){
		let $ = this.$$ || (this.$$ = {}), t0;
		return (t0 = this._body = this._body||(t0=_1('div',this)).flag('body').setContent([
			_1('h1',t0.$,'A',t0).setText('Done recording'),
			_1('p',t0.$,'B',t0).setText('Click "CONFIRM" to save your recording. If you don\'t want to save it, click "DISMISS".')
		],2));
	};
	
	tag.prototype.onuxadismiss = function (){
		var self = this;
		return self.uxa().queue().add(300,function() { return self.data().discard(); });
	};
	
	tag.prototype.onuxasubmit = function (){
		var self = this;
		return self.uxa().queue().add(300,function() { return self.data().finish(); });
	};
})
exports.RecDoneDialog = RecDoneDialog;
