var Imba = require('imba'), _1 = Imba.createElement;
var WidgetPanel = require('./WidgetPanel').WidgetPanel;
var uxa$ = require('uxa'), Menu = uxa$.Menu, MenuItem = uxa$.MenuItem, IconButton = uxa$.IconButton;

var SlidesPanel = Imba.defineTag('SlidesPanel', WidgetPanel, function(tag){
	
	tag.prototype.toggle = function (){
		if (this.data().currentSlide()) {
			this.data().setVisible(!this.data().visible());
		};
		return this;
	};
	
	tag.prototype.onshowmenu = function (e){
		var t0;
		return this._header.uxa().open((t0 = (t0=_1(Menu)).flag('dark')).setContent([
			(t0.$.A || _1(MenuItem,t0.$,'A',t0).setIcon('+').setAction('importslides').setLabel("Import Google Slides")).end(),
			this.data().url() ? (
				(t0.$.B || _1(MenuItem,t0.$,'B',t0).setIcon('+').setAction('reimportslides').setLabel("Resync with Google Slides")).end()
			) : void(0)
		],1).end());
	};
	
	tag.prototype.header = function (){
		let $ = this.$$ || (this.$$ = {}), t0;
		return (t0 = this._header = this._header||(t0=_1('header',this)).flag('header').setContent([
			_1('div',t0.$,'A',t0).flag('title').setText("Slides"),
			_1('div',t0.$,'B',t0).flag('tools').setContent(t0.$.C || _1(IconButton,t0.$,'C','B').setIcon('*').setAction('showmenu'),2)
		],2)).end((
			t0.$.C.end()
		,true));
	};
})
exports.SlidesPanel = SlidesPanel;
