var Imba = require('imba'), _1 = Imba.createElement;
var IconButton = require('./Button').IconButton;

var Tile = Imba.defineTag('Tile', function(tag){
	
	// list of actions [ [action, icon], ... ]
	tag.prototype.actions = function(v){ return this._actions; }
	tag.prototype.setActions = function(v){ this._actions = v; return this; };
	tag.prototype.__md = {'default': "# Hello\n## Subtitle\nSome random text right here",name: 'md'};
	tag.prototype.md = function(v){ return this._md; }
	tag.prototype.setMd = function(v){ this._md = v; return this; }
	tag.prototype._md = "# Hello\n## Subtitle\nSome random text right here";
	
	tag.prototype.main = function (){
		let $ = this.$$ || (this.$$ = {}), t0;
		return (t0 = this._main = this._main||(t0=_1('div',this)).flag('main').setContent([
			_1('div',t0.$,'A',t0).flag('actions').setContent(t0.$.B || _1(IconButton,t0.$,'B','A').setIcon('*'),2),
			_1('span',t0.$,'C',t0).flag('p1')
		],2)).end((
			t0.$.B.end(),
			t0.$.C.setNestedAttr('uxa','md',this.md()).end()
		,true));
	};
	
	
	tag.prototype.footer = function (){
		let $ = this.$$ || (this.$$ = {}), t0;
		return (t0 = this._footer = this._footer||(t0=_1('div',this)).flag('footer').setContent([
			_1('div',t0.$,'A',t0).flag('p1').setText("By Some author"),
			_1('div',t0.$,'B',t0).flag('c1').setText("This is the footer")
		],2));
	};
	
	tag.prototype.render = function (){
		return this.$open(0).setChildren([
			this.main(),
			this.footer()
		],1).synced();
	};
})
exports.Tile = Tile;
