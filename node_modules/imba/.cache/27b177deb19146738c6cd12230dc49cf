var Imba = require('imba');
var EditorView = require('./EditorView').EditorView;
var MonacoView = require('./MonacoView').MonacoView;

// externs;

var DiffEditorView = Imba.defineTag('DiffEditorView', MonacoView, function(tag){
	
	tag.prototype.modelDidSet = function (model,prev){
		return true;
	};
	
	tag.prototype.createEditor = function (opts){
		opts.renderSideBySide = false;
		this._originalModel = monaco.editor.createModel("just some text\n\nHello World\n\nSome more text","text/plain");
		this._modifiedModel = monaco.editor.createModel("just some Text\n\nHello World\n\nSome more changes","text/plain");
		var editor = monaco.editor.createDiffEditor(this.dom(),opts);
		editor.setModel({original: this._originalModel,modified: this._modifiedModel});
		return editor;
	};
})
exports.DiffEditorView = DiffEditorView;

