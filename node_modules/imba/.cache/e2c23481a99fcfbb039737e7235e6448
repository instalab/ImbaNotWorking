var Imba = require('imba');
var Resource$ = require('../store/Resource'), Resource = Resource$.Resource, MASK = Resource$.MASK, ACCESS = Resource$.ACCESS;
var ROLES = require('../scrimba/protocol').ROLES;

var Model = require('./Model').Model;

function Link(){ return Model.apply(this,arguments) };

Imba.subclass(Link,Model);
exports.Link = Link; // export class 
Link.prototype.uid = function(v){ return this.getAttribute('uid'); }
Link.prototype.setUid = function(v){ this.setAttribute('uid',v); return this; };
Link.prototype.eid = function(v){ return this.getAttribute('eid'); }
Link.prototype.setEid = function(v){ this.setAttribute('eid',v); return this; };
Link.prototype.role = function(v){ return this.getAttribute('role'); }
Link.prototype.setRole = function(v){ this.setAttribute('role',v); return this; };
Link.prototype.follow = function(v){ return this.getAttribute('follow'); }
Link.prototype.setFollow = function(v){ this.setAttribute('follow',v); return this; };

// use id to find correct id
Link.prototype.user = function (){
	return this.db().get(this.uid());
};

Link.prototype.entity = function (){
	return this.db().get(this.eid());
};

Link.prototype.link = function (){
	return this;
};

Link.prototype.dependsOn = function (){
	return [this.user(),this.entity()];
};

if (false) {};
