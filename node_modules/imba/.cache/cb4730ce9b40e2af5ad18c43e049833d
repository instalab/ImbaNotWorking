var Imba = require('imba');
var UserAvatar = Imba.defineTag('UserAvatar', 'span', function(tag){
	tag.prototype.__s = {'default': 100,name: 's'};
	tag.prototype.s = function(v){ return this._s; }
	tag.prototype.setS = function(v){ this._s = v; return this; }
	tag.prototype._s = 100;
	
	tag.prototype.src = function (){
		if (this.data()) {
			return ("url('" + this.data().avatarUrl(this.s()) + "')");
		} else {
			return "none";
		};
	};
	
	tag.prototype.render = function (){
		return this.$open(0).flag('Avatar').flagIf('anon',(!(this.data()))).css('background-image',this.src()).synced();
	};
})
exports.UserAvatar = UserAvatar;
