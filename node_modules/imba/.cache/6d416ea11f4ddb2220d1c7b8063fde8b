var hterm_dom$ = require("./hterm_dom"), hterm = hterm_dom$.hterm, lib = hterm_dom$.lib;

var buffer$ = require("./buffer"), TextStyling = buffer$.TextStyling, getWhitespace = buffer$.getWhitespace;

function Keyboard(owner,handler){
	this._handler = handler;
	this._owner = owner;
	this._enabled = false;
	this.keyboard = new (hterm.Keyboard)(this);
	this.passCtrlNumber = true;
	this.passAltNumber = true;
	this.passMetaNumber = true;
	this.passMetaV = true;
	// self:applicationCursor = yes
	this.clearSelectionAfterCopy = false;
	this.copySelectionToClipboard = false;
};

exports.Keyboard = Keyboard; // export class 
Keyboard.prototype.onVTKeystroke = function (data){
	if (this._handler) { return this._handler(data) };
};

Keyboard.prototype.getDocument = function (){
	return window.document;
};

Keyboard.prototype.installKeyboard = function (){
	if (!this._enabled) {
		this._enabled = true;
		return this.keyboard.installKeyboard(this.getDocument());
	};
};

Keyboard.prototype.uninstallKeyboard = function (){
	if (this._enabled) {
		this._enabled = false;
		return this.keyboard.installKeyboard(null);
	};
};

Keyboard.prototype.scrollHome = function (){
	return this._view.scrollToIndex(0);
};

Keyboard.prototype.scrollEnd = function (){
	return this._view.scrollToRow(0);
};

Keyboard.prototype.scrollPageUp = function (){
	return this._view.scrollPage(-1);
};

Keyboard.prototype.scrollPageDown = function (){
	return this._view.scrollPage(+1);
};

Keyboard.prototype.scrollLineUp = function (){
	return this._view.scrollLine(-1);
};

Keyboard.prototype.scrollLineDown = function (){
	return this._view.scrollLine(+1);
};

Keyboard.prototype.wipeContents = function (){
	// do nothing
};

Keyboard.prototype.copySelectionToClipboard = function (){
	return console.log("copySelectionToClipboard");
};

Keyboard.prototype.paste = function (){
	return console.log("paste");
};

Keyboard.prototype.getZoomFactor = function (){
	return console.log("getZoomFactor");
};

Keyboard.prototype.setFontSize = function (){
	return console.log("setFontSize");
};

